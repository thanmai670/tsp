
// FROM platform TO iframe
// create_workload
// BEHAVIOR: iframe should display/initiate configuration modal for the user.
{
    "id": "{string_in_uuid_format}",
    "kind": "msg",
    "request": "create_workload"
}  // NOTE: "data" is empty for this request


// FROM iframe TO platform
// process_workload FOR A QUBO BASED PROBLEM
// BEHAVIOR: platform should store data so the user can initiate solving.
{
    "id": "{string_in_uuid_format}",
    "kind": "msg",
    "request": "process_workload",
    "data": {
        "config": {  // these are the parameters used to create the qubo
            "arbitrary_problem_specific_parameter_1": "{user_value}",
            "arbitrary_problem_specific_parameter_2": "{user_value}",
            "arbitrary_problem_specific_parameter_...": "{user_value}",
        },
        "workload": {
            "type": "qubo",
            "qubo": [[1, 0], [0, 1]]
        }  // NOTE: "parameters", "program" variables are empty
    }
}


// FROM iframe TO platform
// process_workload FOR A QISKIT PROGRAM
// BEHAVIOR: same as above
{
    "id": "{string_in_uuid_format}",
    "kind": "msg",
    "request": "process_workload",
    "data": {
        "config": {  // these are the parameters used to create the circuit
            "arbitrary_problem_specific_parameter_1": "{user_value}",
            "arbitrary_problem_specific_parameter_2": "{user_value}",
            "arbitrary_problem_specific_parameter_...": "{user_value}",
        },
        "workload": {
            "type": "circuit",
            "circuit": {
                "program": "{qiskit_circuit_in_b64_encoding}",
                "program_metadata": "{qiskit_circuit_metadata_in_b64_encoding}",
                "program_inputs": {  // these are input parameters generated by the circuit creation
                    "arbitrary_program_input_1": "{user_value}",
                    "arbitrary_program_input_2": "{user_value}",
                    "arbitrary_program_input_...": "{user_value}",
            }
        }  // NOTE: "qubo" variable is empty
    }
}


// FROM platform TO iframe
// show_result FOR qubo
// BEHAVIOR: iframe should display the results to the user.
{
    "id": "{string_in_uuid_format}",
    "kind": "msg",
    "request": "show_result",
    "data": {
        "config": {  // these are the parameters used to create the qubo
            "arbitrary_problem_specific_parameter_1": "{user_value}",
            "arbitrary_problem_specific_parameter_2": "{user_value}",
            "arbitrary_problem_specific_parameter_...": "{user_value}",
        },
        "result": {
            "samples": [["you_know_what_this_is"], ["you_know_what_this_is"]],
            "energies": [["you_know_what_this_is"], ["you_know_what_this_is"]],
            "runtime": {},
            "metadata": {}
        }
    }
}


// FROM platform TO iframe
// show_result FOR qiskit ciruit
// BEHAVIOR: same as above
{
    "id": "{string_in_uuid_format}",
    "kind": "msg",
    "request": "show_result",
    "data": {
        "config": {  // these are the parameters used to create the qubo
            "arbitrary_problem_specific_parameter_1": "{user_value}",
            "arbitrary_problem_specific_parameter_2": "{user_value}",
            "arbitrary_problem_specific_parameter_...": "{user_value}",
        },
        "result": "{result_type_is_specified_in_the_circuit_and_can_be_anything}"
    }
}


// FROM iframe TO platform
// report_error during qubo/circuit generation
// BEHAVIOR: platform should instruct the user to retry configuration.
{
    "id": "{string_in_uuid_format}",
    "kind": "msg",
    "request": "report_error",
    "data": {
        "error": "{some_error_message}"
    }
}


// FROM either TO either
// ack handshake message
// BEHAVIOR: None
{
    "id": "{string_in_uuid_format}",
    "kind": "ack",
}